(function(t){function e(e){for(var a,o,s=e[0],i=e[1],u=e[2],v=0,f=[];v<s.length;v++)o=s[v],n[o]&&f.push(n[o][0]),n[o]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a]);l&&l(e);while(f.length)f.shift()();return c.push.apply(c,u||[]),r()}function r(){for(var t,e=0;e<c.length;e++){for(var r=c[e],a=!0,s=1;s<r.length;s++){var i=r[s];0!==n[i]&&(a=!1)}a&&(c.splice(e--,1),t=o(o.s=r[0]))}return t}var a={},n={app:0},c=[];function o(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=a,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(r,a,function(e){return t[e]}.bind(null,a));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/deezweb/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=i;c.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";var a=r("64a9"),n=r.n(a);n.a},"56d7":function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c"),r("097d");var a=r("2b0e"),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("Navbar"),r("router-view")],1)},c=[],o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nav",{staticClass:"navbar"},[r("div",{staticClass:"container"},[r("router-link",{attrs:{to:"/"}},[t._v("Accueil")]),r("router-link",{attrs:{to:"/search"}},[t._v("Search")]),r("router-link",{attrs:{to:"/favorite"}},[t._v("Favorite")])],1)])},s=[],i={name:"Navbar"},u=i,l=(r("8e99"),r("2877")),v=Object(l["a"])(u,o,s,!1,null,"2fac19a3",null),f=v.exports,p={name:"app",components:{Navbar:f}},d=p,h=(r("034f"),Object(l["a"])(d,n,c,!1,null,null,null)),m=h.exports,_=r("8c4f"),k=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},b=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h1",[t._v("Bienvenue sur Deezweb")])])}],g=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("article",{staticClass:"track-card"},[r("div",{staticClass:"flex"},[r("figure",[r("img",{attrs:{src:t.track.artist.picture,alt:t.track.artist.name}})]),r("div",[r("h1",[t._v(t._s(t.track.title))]),r("p",[t._v(t._s(t.track.artist.name)+"/"+t._s(t.track.album.title))])])]),r("div",{staticStyle:{display:"block"}},[r("audio",{attrs:{controls:"",src:t.track.preview}}),r("br"),r("button",{class:t.isFav,on:{click:t.addFav}},[r("i",{class:t.iconButton}),t._v(t._s(t.textButton))])])])},C=[],S=r("f499"),y=r.n(S),w={name:"MusicCard",props:["track"],data:function(){return{Fav:!0,allFav:[]}},created:function(){localStorage.getItem("track".concat(this.track.id))?this.Fav=!1:this.Fav=!0},methods:{addFav:function(){null==localStorage.getItem("track".concat(this.track.id))?(localStorage.setItem("track".concat(this.track.id),y()(this.track)),this.Fav=!1):(localStorage.removeItem("track".concat(this.track.id)),this.Fav=!0)}},computed:{isFav:function(){return 1==this.Fav?"btnFav":"btnUnFav"},iconButton:function(){return 1==this.Fav?"fa fa-heart":"fa fa-trash"},textButton:function(){return 1==this.Fav?"Ajouter aux favoris":"Retirer des favoris"}}},x=w,A=Object(l["a"])(x,g,C,!1,null,null,null),F=A.exports,O={name:"Home",components:{MusicCard:F},data:function(){return{}}},j=O,M=Object(l["a"])(j,k,b,!1,null,null,null),E=M.exports,N=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"search"},[r("h1",[t._v("Recherche")]),r("p",[t._v("Recherchez un titre sur Deezer en utilisant le formulaire suivant")]),r("hr"),r("form",{on:{submit:function(e){return e.preventDefault(),t.getSearch(e)}}},[r("div",{staticClass:"searchTitle"},[r("span",[t._v("Titre: ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.q,expression:"q"}],attrs:{placeholder:"Eminem, Armin Van Buuren, Rihanna, ...",type:"text"},domProps:{value:t.q},on:{input:function(e){e.target.composing||(t.q=e.target.value)}}})]),r("div",{staticClass:"searchFilter"},[r("span",[t._v("Trier par:")]),r("select",{directives:[{name:"model",rawName:"v-model",value:t.order,expression:"order"}],on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.order=e.target.multiple?r:r[0]}}},[r("option",{attrs:{value:"ALBUM_ASC"}},[t._v("Album")]),r("option",{attrs:{value:"ARTIST_ASC"}},[t._v("Artiste")]),r("option",{attrs:{value:"TRACK_ASC"}},[t._v("Musique")]),r("option",{attrs:{value:"RANKING_DESC"}},[t._v("Les plus populaires")]),r("option",{attrs:{value:"RATING_DESC"}},[t._v("Les mieux notés")])])]),r("button",{staticClass:"btn"},[t._v("Go")])]),r("hr"),t.tracks.data&&0!==t.tracks.data.length?r("div",[r("h2",[t._v("Résultats")]),r("div",{staticClass:"trackList"},t._l(t.tracks.data,function(t){return r("MusicCard",{key:t.id,attrs:{track:t}})}),1)]):""!==t.tracks?r("p",{staticClass:"no-result"},[t._v("Aucun résultat pour cette recherche ...")]):t._e()])},T=[],R=r("795b"),q=r.n(R),B=r("bc3a"),$=r.n(B),I="https://cors-anywhere.herokuapp.com/https://api.deezer.com/search",L={fetchAll:function(t,e){return $.a.get("".concat(I,"/?q=").concat(t,"&order=").concat(e)).then(function(t){return t.data}).then(function(t){return 1===t.error?q.a.reject(t):q.a.resolve(t)})}},P={name:"Search",data:function(){return{tracks:"",q:"",order:"ALBUM_ASC"}},components:{MusicCard:F},methods:{getSearch:function(){var t=this;L.fetchAll(this.q,this.order).then(function(e){t.tracks=e})}}},z=P,D=Object(l["a"])(z,N,T,!1,null,null,null),J=D.exports,G=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"fav"},[r("h1",[t._v("Mes favoris")]),r("p",[t._v("Liste de mes titres favoris")]),r("hr"),0!=t.tracks.length?r("div",{staticClass:"trackList"},t._l(t.tracks,function(t){return r("MusicCard",{key:t.id,attrs:{track:t}})}),1):r("p",{staticClass:"no-result"},[t._v("Aucun favoris dans votre liste ...")])])},U=[],K=(r("f559"),{name:"Fav",components:{MusicCard:F},data:function(){return{tracks:[]}},created:function(){for(var t in window.localStorage)JSON.parse(t.startsWith("track"))&&this.tracks.push(JSON.parse(window.localStorage[t]))}}),H=K,V=Object(l["a"])(H,G,U,!1,null,"01e5cfe6",null),W=V.exports;a["a"].use(_["a"]);var Q=new _["a"]({routes:[{name:"home",path:"/",component:E},{name:"search",path:"/search",component:J},{name:"Favorite",path:"/favorite",component:W}]});a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(m)},router:Q}).$mount("#app")},"64a9":function(t,e,r){},"8e99":function(t,e,r){"use strict";var a=r("d73a"),n=r.n(a);n.a},d73a:function(t,e,r){}});
//# sourceMappingURL=app.4975ad7b.js.map